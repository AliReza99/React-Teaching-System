import{i as e,m as t,r as a,R as n,P as r,L as l,a as s,b as c,c as o,A as m,d as i,T as u,e as d,f as h,B as p,M as E,I as b,g,h as f,D as v,j as x,S as k,k as y,H as S,l as N,n as M,o as T,p as w,q as D}from"./vendor.d3523792.js";const R=e("http://localhost:5001"),j=Math.floor(1e3*Math.random()),B=t((e=>({nav:{position:"fixed",width:"100%",bottom:"0",background:"#111",height:"65px",display:"flex",alignItems:"center",justifyContent:"center","& button":{color:"#fff",margin:"0 10px",background:"#333"},"& .bgRed":{background:"#f00","&:hover":{filter:"brightness(.8)"}}},chatbox:{position:"fixed",width:"420px",height:"calc(100vh - 65px)",right:"0",top:"0","& .inputs":{position:"absolute",bottom:"0",width:"100%"},"& .input":{width:"100%",borderRadius:"50%","&:focus":{border:"none"}},"& .button":{width:"100%",padding:"15px 0",background:"#111",color:"#fff"}}})));function C(e){const[t,N]=a.exports.useState(""),[M,T]=a.exports.useState(!1),[w,D]=a.exports.useState(!1),[C,I]=a.exports.useState([]),P=a.exports.useRef(null),q=B();a.exports.useEffect((()=>{R.on("chat",(e=>{console.log(e),I((t=>[...t,e]))}))}),[]);const O=e=>{var t;e?(t=P.current,new Promise(((e,a)=>{navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0}).then((a=>{t.srcObject=a,e()})).catch((()=>{a()}))}))).then((()=>{T(!0)})):((e=>{e.srcObject.getTracks().forEach((e=>e.stop())),e.srcObject=null})(P.current),T(!1))};return n.createElement(r,{square:!0,className:"container"},n.createElement("div",{className:"main"},n.createElement("video",{style:{width:"100%",height:"100%"},muted:!0,autoPlay:!0,ref:P,className:"vid "})),n.createElement(r,{square:!0,className:q.chatbox},n.createElement("div",{className:"messages"},n.createElement(l,{subheader:n.createElement(s,{component:"div"},"CHAT")},C.map(((e,t)=>n.createElement(c,{key:t},e.avatar&&n.createElement(o,null,n.createElement(m,{alt:`${e.handle} avatar`,src:e.avatar})),n.createElement(i,{primary:e.handle,secondary:n.createElement(u,{variant:"body2",noWrap:!0,color:"textSecondary"},e.message)}),n.createElement(d,null,n.createElement("div",{className:"status"},e.date))))))),n.createElement("form",{className:"inputs",onSubmit:e=>{e.preventDefault(),""!==t.trim()&&(R.emit("chat",{message:t.trim(),handle:`user${j}`}),N(""))}},n.createElement(h,{className:"input",placeholder:"Message...",value:t,onChange:e=>{N(e.target.value)},variant:"outlined"}),n.createElement(p,{size:"large",type:"submit",className:"button",endIcon:n.createElement(E,null)},"Send"))),n.createElement(r,{className:q.nav},n.createElement(b,{"aria-label":"Share Microphone"},w?n.createElement(g,null):n.createElement(f,null)),n.createElement(b,{"aria-label":"Share Desktop",onClick:()=>{O(!M)}},M?n.createElement(v,null):n.createElement(x,null)),n.createElement(b,{onClick:()=>{e.setDarkTheme(!e.darkTheme)},"aria-label":"theme"},e.darkTheme?n.createElement(k,null):n.createElement(y,null)),n.createElement(b,{"aria-label":"hangup",className:"bgRed"},n.createElement(S,null))))}function I(){const[e,t]=a.exports.useState(!0),r=N({props:{MuiButtonBase:{disableRipple:!0}},palette:{type:e?"dark":"light",primary:{main:e?"#757575":"#01579B"},secondary:{light:"#0066ff",main:"#0044ff",contrastText:"#ffcc00"}},shape:{borderRadius:0},overrides:{MuiPaper:{elevation1:{background:e?"#21242b":null,"box-shadow":"0 0px 15px 0 rgba(0,0,0,.08)"}}}});return n.createElement(M,{theme:r},n.createElement(T,null,n.createElement(w,{path:"/",component:()=>n.createElement(C,{setDarkTheme:t,darkTheme:e})})))}D.render(n.createElement(n.StrictMode,null,n.createElement(I,null)),document.getElementById("root"));
