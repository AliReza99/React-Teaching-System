var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,o=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&l(e,a,t[a]);if(n)for(var a of n(t))s.call(t,a)&&l(e,a,t[a]);return e};import{R as c,i,r as m,a as u,L as d,b as p,T as g,c as f,d as h,m as E,e as x,P as w,f as v,g as C,I as b,C as k,D as y,h as N,j as S,S as D,B as R,k as I,l as A,n as T,o as j,p as P,N as M,q as O,s as $,t as F,u as B,G as Y,v as q,w as H,x as X,M as U,y as L,z,A as W,E as V,F as Q,H as G,J,K,O as Z,Q as _,U as ee,V as te,W as ae,X as ne,Y as re,Z as se,_ as le,$ as oe,a0 as ce,a1 as ie}from"./vendor.88e6c706.js";const me=c({key:"socket",default:i("http://localhost:5001")}),ue=c({key:"users",default:[]}),de=c({key:"self",default:{isAdmin:!1,username:""}});const pe=m.exports.memo((({id:e,role:t,onClick:a,text:n,date:r,sender:s,hardness:l,repliedText:o,isAdmin:c,ratingOnChange:i,rate:E})=>{let x=!1;const w=[];let v,C="";"question"===t?(x=!0,w.push("question"),v="Question ",C=`(Hardness: ${l})`):"answer"===t?(w.push("answer"),v=`${s} `,C=`(Replied to: ${o})`):v=s;const[b,k]=m.exports.useState(E);return u.createElement(d,{button:x,onClick:a,className:"listItem"},u.createElement(p,{className:w.join(" "),primary:u.createElement(g,{component:"div"},v," ",u.createElement("span",{className:"caption"},C)," "),secondary:u.createElement(u.Fragment,null,u.createElement(g,{component:"span",style:{display:"block"},variant:"body2",noWrap:!0,color:"textSecondary"},n),c&&"answer"===t&&u.createElement(f,{className:"rating",name:`answer-rating${e}`,value:b,onChange:(e,t)=>{k(t),i(t)},size:"small"}),!c&&"answer"===t&&u.createElement(f,{className:"rating",name:`answer-rating${e}`,value:E,size:"small",readOnly:!0}))}),u.createElement(h,null,u.createElement("div",{className:"status"},`${r.getHours()<10?"0":""}${r.getHours()}:${r.getMinutes()<10?"0":""}${r.getMinutes()}`)))}));class ge{constructor(e,t,a,n,r,s,l,o){this.id=e,this.sender=t,this.text=a,this.date=new Date(n),this.role=r,this.rate=s,this.hardness=l,this.repliedID=o}}const fe=E((e=>({sidebar:{display:"flex",flexDirection:"column",position:"fixed",width:"420px",height:"calc(100vh - 65px)",right:"0",top:"0",visibility:"hidden",borderRadius:"10px 0 0 10px",padding:"0px 0",transform:"translateX(100%)",transition:"visibility .2s,right .3s,transform .3s","&.show":{transform:"translateX(0)",visibility:"visible"},"& .inputContainer":{display:"flex",background:"#2B2E2F",margin:"8px 8px",borderRadius:"30px",padding:"1px 0 1px 10px "},"& .btnsContainer":{padding:"3px 8px",display:"flex",margin:"5px 0"},"& .input":{flexGrow:"1",padding:"0 10px"},"& .messages":{overflowY:"scroll",flexGrow:1},"& .listHeader":{background:"#262829"}}}))),he=m.exports.memo((({showChat:e,setShowChat:t})=>{var a;const[n,r]=m.exports.useState([]),[s,l]=m.exports.useState("message"),[c,i]=m.exports.useState(5),[f,h]=m.exports.useState(null),[E,T]=m.exports.useState(""),j=x(me),P=x(ue),M=x(de),O=m.exports.useRef(null),$=fe();return m.exports.useEffect((()=>{f||l("message")}),[f]),m.exports.useEffect((()=>{j.on("chat",(({sender:e,text:t,date:a,id:n,role:s,rate:l,hardness:o,repliedID:c})=>{const i=new ge(n,e,t,a,s,l,o,c);r((e=>[...e,i]))})),j.on("full-chat-update",(e=>{const t=e.map((e=>new ge(e.id,e.sender,e.text,e.date,e.role,e.rate,e.hardness,e.repliedID)));r((()=>t)),0===t.length&&h(null)})),j.on("update-message",(e=>{r((t=>{const a=t.findIndex((t=>t.id===e.id));if(-1!==a){const n=o({},t[a]);n.rate=e.rate;return[...t.slice(0,a),n,...t.slice(a+1)]}return t}))}))}),[]),u.createElement(w,{square:!0,className:[$.sidebar,e?"show":""].join(" ")},u.createElement("div",{className:"users"},u.createElement(v,{subheader:u.createElement(C,{component:"div",className:"listHeader"},"People ",P.length>0?`(${P.length+1})`:""," ",u.createElement(b,{style:{float:"right"},onClick:()=>t(!1)},u.createElement(k,null))),style:{maxHeight:"300px",overflowY:"scroll"}},M.username.length>0&&u.createElement(d,null,u.createElement(p,{className:"selfUserContainer",primary:u.createElement(g,{component:"div"},M.username," ",u.createElement("span",{className:"caption"},"   You")," ")})),P.map((e=>u.createElement(d,{key:e.connectionID},u.createElement(p,{primary:e.username})))))),u.createElement("div",{className:"messages"},u.createElement(v,{subheader:u.createElement(C,{className:"listHeader",component:"div"},"Messages ",n.length>0?`(${n.length})`:""),disablePadding:!0},n.map((e=>{var t;let a=e.role,r=null,s=null==(t=n.filter((t=>t.id===e.repliedID))[0])?void 0:t.text,o=e.rate||0;"question"===a&&(r=()=>{var t;t=e.id,h(t),O.current.focus(),l("answer")});return u.createElement(pe,{key:e.id,id:e.id,rate:o,ratingOnChange:t=>{((e,t)=>{j.emit("rate-message",{messageID:t,rate:e})})(t,e.id)},sender:e.sender,repliedText:s,hardness:e.hardness,role:a,onClick:r,text:e.text,date:e.date,isAdmin:M.isAdmin})})))),f&&u.createElement(u.Fragment,null,u.createElement(y,null),u.createElement("div",{className:"replyContainer"},u.createElement("span",null,u.createElement(N,null)),u.createElement("span",{className:"text"},u.createElement("span",null,"  Question:  "),null==(a=n.filter((e=>e.id===f))[0])?void 0:a.text),u.createElement(b,{size:"small",onClick:()=>{h(null)},style:{float:"right"}},u.createElement(k,null)))),u.createElement("form",{className:"form",onSubmit:e=>{if(e.preventDefault(),""===E.trim())return;const t={text:E.trim()};M.isAdmin&&"question"===s&&(t.hardness=c),f&&(t.repliedID=f),j.emit("chat",t),T(""),h(null)}},u.createElement("div",{className:"inputContainer"},u.createElement(S,{className:"input",placeholder:f?"Reply...":"Message...",value:E,onChange:e=>{T(e.target.value)},variant:"outlined",inputProps:{ref:O}}),u.createElement(b,{disabled:0===E.length,type:"submit","aria-label":"Send Message"},u.createElement(D,null)))),M.isAdmin&&u.createElement("div",{className:"btnsContainer"},u.createElement("div",{className:"msgMode"},u.createElement(R,{onClick:()=>{l("question")}},"Question  ","question"===s?u.createElement(I,null):""," "),u.createElement(R,{onClick:()=>{l("message")}},"Message ","message"===s?u.createElement(I,null):""," "),"question"===s&&u.createElement(S,{type:"number",startAdornment:u.createElement(A,{position:"start",component:"label"},"Hardness: "),inputProps:{min:0,max:10},onChange:e=>{i(e.target.value)},value:c}))))}));const Ee=e=>{const t=e.getContext("2d"),a=t.fillStyle;t.clearRect(0,0,e.width,e.height),t.fillStyle="#fff",t.fillRect(0,0,e.width,e.height),t.fillStyle=a},xe=e=>{const t=e.getContext("2d");let a=!1,n=0,r=0;const s=(e,t,a,n,r)=>{e.beginPath(),e.lineWidth=3,e.moveTo(t,a),e.lineTo(n,r),e.stroke(),e.closePath()};e.onmousedown=e=>{n=e.offsetX,r=e.offsetY,a=!0},e.onmousemove=e=>{!0===a&&(s(t,n,r,e.offsetX,e.offsetY),n=e.offsetX,r=e.offsetY)},e.onmouseup=e=>{!0===a&&(s(t,n,r,e.offsetX,e.offsetY),n=0,r=0,a=!1)}},we=e=>{const t=e.getContext("2d");let a,n;e.onmouseup=r=>{let s=e.getBoundingClientRect();const l=r.clientX-s.left,o=r.clientY-s.top;((e,t,a,n,r)=>{let s=.5*(n-t),l=.5*(r-a),o=t+s,c=a+l,i=.01,m=i,u=2*Math.PI-i;for(e.beginPath(),e.moveTo(o+s*Math.cos(0),c+l*Math.sin(0));m<u;m+=i)e.lineTo(o+s*Math.cos(m),c+l*Math.sin(m));e.closePath(),e.stroke()})(t,a,n,l,o)},e.onmousedown=t=>{let r=e.getBoundingClientRect();a=t.clientX-r.left,n=t.clientY-r.top}},ve=["#000000","#E53935","#CFD8DC","#8E24AA","#303F9F","#0097A7","#FFEB3B","#76FF03","#4FC3F7","#CE93D8"],Ce=e=>{e.onmousedown=null,e.onmousemove=null,e.onmouseup=null,e.onclick=null},be=m.exports.memo((({isSharing:e})=>{const[t,a]=m.exports.useState(4),[n,r]=m.exports.useState(!1),[s,l]=m.exports.useState(null),[o,c]=m.exports.useState(0),[i,d]=m.exports.useState(null),[p,g]=m.exports.useState(ve[0]),f=m.exports.useRef(null),h=m.exports.useRef(null),E=m.exports.useRef(!1),w=m.exports.useRef(null),v=m.exports.useRef(null),C=m.exports.useRef(null),k=x(me),y=(e=600,t=750)=>{f.current.width=e,f.current.height=t};return m.exports.useEffect((()=>{((e,t)=>{const a=e.getContext("2d");a.strokeStyle=t,a.fillStyle=t})(f.current,p.hex)}),[p]),m.exports.useEffect((()=>{s&&i&&s.getPage(i).then((e=>{let t=e.getViewport({scale:1});f.current.height=t.height,f.current.width=t.width;const a={canvasContext:f.current.getContext("2d"),viewport:t};e.render(a)}))}),[i,s]),m.exports.useEffect((()=>{if(e){Ee(f.current),xe(f.current);const e=.5;w.current=window.setInterval((()=>{const t=f.current.toDataURL("image/png",e);k.emit("whiteboard-data",{base64ImageData:t})}),1e3)}else w.current&&window.clearInterval(w.current)}),[e]),m.exports.useEffect((()=>(y(),Ee(f.current),()=>{window.clearInterval(w.current)})),[]),u.createElement("div",{className:"whiteboardContainer",ref:C},u.createElement("div",{className:"canvasContainer",ref:v},u.createElement("canvas",{ref:f})),u.createElement("div",{className:"buttonsContainer"},u.createElement(T,{title:"Add Image",arrow:!0},u.createElement(b,{className:"button",component:"label"},u.createElement(j,null),u.createElement("input",{type:"file",onChange:()=>{const e=h.current.files[0];if(!(e=>e&&"image"===e.type.split("/")[0])(e))return void console.log("selected file is not image format");l(null),c(0),d(null),y();const t=f.current.getContext("2d"),a=new FileReader;a.readAsDataURL(e),a.onload=e=>{if(e.target.readyState===FileReader.DONE){const a=new Image;a.src=e.target.result;const n=f.current.width,r=f.current.height;a.onload=()=>{t.drawImage(a,0,0,n,r)}}}},ref:h,hidden:!0}))),u.createElement(T,{title:"Add PDF",arrow:!0},u.createElement(b,{className:"button",component:"label"},u.createElement(P,null),u.createElement("input",{type:"file",onChange:()=>{const e=window["pdfjs-dist/build/pdf"];if(!e)return void console.log("pdfjsLib is not supported");const t=E.current.files[0];if("application/pdf"!==t.type)return void console.error(t.name,"is not a pdf file.");const a=new FileReader;a.onload=function(){const t=new Uint8Array(this.result);e.getDocument(t).promise.then((e=>{l(e),c(e.numPages),d(1)}))},a.readAsArrayBuffer(t)},ref:E,hidden:!0}))),s&&u.createElement(u.Fragment,null,u.createElement(b,{className:"button",onClick:()=>{i>1&&d(i-1)},disabled:1===i},u.createElement(M,{style:{transform:"rotate(180deg)"}})),u.createElement(b,{className:"button",onClick:()=>{i<o&&d(i+1)},disabled:i===o},u.createElement(M,null))),u.createElement(T,{title:"Line",arrow:!0},u.createElement(b,{className:[0===t?"selected":"","button"].join(" "),onClick:()=>{a(0),Ce(f.current),(e=>{const t=e.getContext("2d");let a=0,n=0;e.onmousedown=e=>{a=e.offsetX,n=e.offsetY},e.onmouseup=e=>{let r=e.offsetX,s=e.offsetY;t.beginPath(),t.lineWidth="3",t.moveTo(a,n),t.lineTo(r,s),t.stroke()}})(f.current)}},u.createElement(O,null))),u.createElement(T,{title:"Square",arrow:!0},u.createElement(b,{className:[1===t?"selected":"","button"].join(" "),onClick:()=>{a(1),Ce(f.current),(e=>{const t=e.getContext("2d");let a=0,n=0;e.onmousedown=e=>{a=e.offsetX,n=e.offsetY},e.onmouseup=e=>{let r=e.offsetX-a,s=e.offsetY-n;t.beginPath(),t.rect(a,n,r,s),t.stroke()}})(f.current)}},u.createElement($,null))),u.createElement(T,{title:"Circle",arrow:!0},u.createElement(b,{className:[2===t?"selected":"","button"].join(" "),onClick:()=>{a(2),Ce(f.current),we(f.current)}},u.createElement(F,null))),u.createElement(T,{title:"Text",arrow:!0},u.createElement(b,{className:[3===t?"selected":"","button"].join(" "),onClick:()=>{a(3),Ce(f.current),(e=>{const t=e.getContext("2d");let a=0,n=0;e.onclick=e=>{a=e.offsetX,n=e.offsetY;const r=prompt("Enter Text");t.font="20px Arial",t.fillText(r,a,n)}})(f.current)}},u.createElement(B,null))),u.createElement(T,{title:"Draw",arrow:!0},u.createElement(b,{className:[4===t?"selected":"","button"].join(" "),onClick:()=>{a(4),Ce(f.current),xe(f.current)}},u.createElement(Y,null))),u.createElement(R,{className:"button",onClick:()=>{Ee(f.current)}},"Clear"),u.createElement(q,{onClickAway:()=>{r(!1)}},u.createElement("div",{className:"colorPickerContainer"},u.createElement(b,{className:"button",onClick:()=>{r((e=>!e))}},u.createElement(H,null)),u.createElement("div",{className:["colorPickerBlockContainer",n?"show":""].join(" ")},u.createElement(X,{color:p,width:170,onChangeComplete:g,colors:ve}))))))})),ke=E((e=>({nav:{position:"fixed",width:"100%",bottom:"0",background:"hsl(210, 3%, 13%)",height:"65px",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 15px","& .items":{flex:"1 1 0",display:"flex"},"& .center":{justifyContent:"center"},"& .right":{justifyContent:"flex-end"},"& button":{margin:"0 9px",background:"hsl(210, 3%, 17%)",transition:"background .1s",fontSize:"inherit"},"& .redBackground":{background:"#B71C1C","&:hover":{background:"#dd2323"}}}}))),ye=m.exports.memo((()=>{const[e,t]=m.exports.useState(new Date),a=()=>{t(new Date)};return m.exports.useEffect((()=>{const e=window.setInterval(a,6e4);return()=>{window.clearInterval(e)}}),[]),u.createElement(u.Fragment,null,`${e.getHours()<10?"0":""}${e.getHours()>12?e.getHours()-12:e.getHours()}:${e.getMinutes()<10?"0":""}${e.getMinutes()}  ${e.getHours()>12?"PM":"AM"} `)})),Ne=({leaveRoomClick:e,toggleStreams:t,shareWhiteboardClick:a,exportUsersActivity:n,exportChatMessages:r,toggleChats:s,clearChat:l,isAdmin:o,roomName:c,fastplayClick:i,shareMicrophoneOnClick:p,micIsSharing:g,shareDesktopOnClick:f,desktopIsSharing:h})=>{const[E,x]=m.exports.useState(!1),C=ke();return u.createElement(w,{className:C.nav},u.createElement("div",{className:"items"},u.createElement(ye,null),"| ",c),u.createElement("div",{className:"items center"},u.createElement(b,{onClick:p,"aria-label":"Share Microphone",className:g?"":"redBackground"},g?u.createElement(U,null):u.createElement(L,null)),u.createElement(b,{onClick:f,"aria-label":"Share Desktop",className:h?"":"redBackground"},h?u.createElement(z,null):u.createElement(W,null)),u.createElement(b,{onClick:a},u.createElement(V,null)),u.createElement(b,{onClick:i},u.createElement(Q,null)),o&&u.createElement(q,{onClickAway:()=>x(!1)},u.createElement("div",{className:"moreContainer"},u.createElement(b,{onClick:()=>{x((e=>!e))}},u.createElement(G,null)),u.createElement(v,{className:["moreList",E?"show":""].join(" ")},u.createElement(d,{button:!0,className:"listItem",onClick:r}," Export Room Chats "),u.createElement(d,{button:!0,className:"listItem",onClick:n},"Export Users Activity")))),u.createElement(b,{"aria-label":"hangup",className:"redBackground",onClick:e},u.createElement(J,null))),u.createElement("div",{className:"items right"},o&&u.createElement(b,{onClick:l},u.createElement(K,null)),u.createElement(b,{"aria-label":"open chats",onClick:s},u.createElement(Z,null)),u.createElement(b,{"aria-label":"open streams",onClick:t},u.createElement(_,null))))};class Se{constructor(e,t,a){this.stream=e,this.target=t,this.username=a}}class De{constructor(e,t){this.username=e,this.connectionID=t}}const Re=(e,t,a)=>{e&&e.getTracks().forEach((e=>{e.kind===t&&(e.enabled=a)}))};function Ie(e){const[n,r]=m.exports.useState("room1"),[s,l]=m.exports.useState(""),[c,i]=m.exports.useState(!0),[d,p]=m.exports.useState(!1),[g,f]=m.exports.useState(!1),[h,E]=m.exports.useState(!1),[v,C]=m.exports.useState([]),[y,N]=m.exports.useState(null),[S,D]=m.exports.useState(!0),[I,A]=m.exports.useState(!1),[T,j]=m.exports.useState(""),[P,M]=m.exports.useState(""),[O,$]=m.exports.useState(!1),[F,B]=m.exports.useState(""),[Y,q]=m.exports.useState(!0),H=m.exports.useRef(!1),X=m.exports.useRef({}),U=m.exports.useRef(null),L=m.exports.useRef(null),z=m.exports.useRef([]),W=m.exports.useRef(!1),V=x(me),Q=ee(ue),[G,J]=te(de),K=m.exports.useCallback(((e,t,a)=>{console.log("addstreams ",a),C((n=>{const r=n.filter((e=>e.target===t))[0];if(r){const t=e.streams[0].getAudioTracks()[0]||e.streams[0].getVideoTracks()[0];return r.stream.addTrack(t),n}{const r=new Se(e.streams[0],t,a);return[...n.filter((e=>e.stream.id!==r.stream.id)),r]}}))}),[]),Z=m.exports.useCallback(((e,t)=>{e.candidate&&V.emit("ice-candidate",{target:t.target,candidate:e.candidate})}),[]),_=(e,t)=>{const a=new RTCPeerConnection({iceServers:[{urls:"stun:stun.stunprotocol.org"},{urls:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"}]});return a.onicecandidate=e=>{Z(e,a)},a.ontrack=a=>{K(a,e,t)},a.onnegotiationneeded=()=>{(async e=>{const t=await e.createOffer();await e.setLocalDescription(t),V.emit("offer",{offer:e.localDescription,target:e.target})})(a)},a.target=e,a},ne=async()=>{let e;try{e=await new Promise(((e,t)=>{navigator.mediaDevices.getUserMedia({audio:!0}).then((t=>{e(t)})).catch((()=>{t()}))}))}catch(a){return void console.log("Error happens when requesting for capture Microphone",a)}const t=e.getAudioTracks()[0];for(const n in X.current)X.current[n].addTrack(t,e);y?y.addTrack(t,e):N(e),E(!0)},re=async()=>{let e;try{e=await new Promise(((e,t)=>{navigator.mediaDevices.getDisplayMedia({video:!0}).then((t=>{e(t)})).catch((()=>{t()}))}))}catch(a){return void console.log("Error happens when requesting for capture screen",a)}const t=e.getVideoTracks()[0];for(const n in X.current)X.current[n].addTrack(t,e);y?y.addTrack(t,e):N(e),f(!0)},se=async()=>{if(W.current)return;A(!0),W.current=!0;const e=z.current;let t=e[0].sender;j(t);for(let a=0;a<e.length;a++)t!==e[a].sender&&(t=e[a].sender,j(t)),L.current.src=e[a].base64ImageData,await new Promise((e=>setTimeout(e,120)));W.current=!1},le=(e,t)=>{t(e.target.value)};m.exports.useEffect((()=>(V.on("connect",(()=>{console.log("socket connection established")})),V.on("export-chat",(e=>{console.log("export all chats",e)})),V.on("export-activities",(e=>{console.log("export all users Activity",e)})),V.on("self-info",(e=>{J((n=>{return r=o({},n),s={isAdmin:e.isAdmin,username:e.username},t(r,a(s));var r,s})),B(e.roomName)})),V.on("disconnect-whiteboard",(()=>{$(!1)})),V.on("full-whiteboard-data",(e=>{0!==e.length&&(z.current=e,H.current=!0,se())})),V.on("whiteboard-data",(e=>{let t=!1;p((e=>(e&&(t=!0),e))),H.current&&z.current.push(e),t?(console.log("currently presenting"),M(e.sender)):(console.log("currently just watchin"),U.current.src=e.base64ImageData,M(e.sender),$(!0))})),V.on("new-user-joined",(async({target:e,username:t})=>{const a=new De(t,e);let n;if(X.current[e]=_(e,t),Q((e=>[...e,a])),N((e=>(n=e,e))),n)n.getTracks().forEach((t=>{X.current[e].addTrack(t,n)}));else{const t=await X.current[e].createOffer();await X.current[e].setLocalDescription(t),V.emit("offer",{offer:X.current[e].localDescription,target:X.current[e].target})}})),V.on("answer",(async({answer:e,target:t})=>{await X.current[t].setRemoteDescription(new RTCSessionDescription(e))})),V.on("offer",(async({offer:e,target:t,username:a})=>{const n=new RTCSessionDescription(e);if(!X.current[t]){X.current[t]=_(t,a);const e=new De(a,t);Q((t=>[...t,e]))}await X.current[t].setRemoteDescription(n);const r=await X.current[t].createAnswer();await X.current[t].setLocalDescription(r),V.emit("answer",{answer:r,target:t})})),V.on("ice-candidate",(({incoming:e,target:t})=>{const a=new RTCIceCandidate(e);X.current[t].addIceCandidate(a)})),V.on("user-disconnected",(e=>{C((t=>t.filter((t=>t.target!==e)))),Q((t=>(console.log(t),t.filter((t=>t.connectionID!==e)))))})),()=>{V.close()})),[]);return u.createElement(w,{square:!0,className:"container"},u.createElement("div",null,u.createElement("div",{className:["login",c?"show":""].join(" ")},u.createElement("p",null,"Create Or Join Room"),u.createElement("form",{onSubmit:e=>{e.preventDefault(),V.emit("join-room",{username:s,roomID:n}),i(!1)}},u.createElement(ae,{className:"inputs",value:s,onChange:e=>{le(e,l)},required:!0,label:"Pick Username"}),u.createElement("br",null),u.createElement(ae,{className:"inputs",value:n,onChange:e=>{le(e,r)},required:!0,label:"Enter Room Name"}),u.createElement("br",null),u.createElement(R,{type:"submit"},"Join"))),u.createElement("div",{className:["main",Y?"":"expand"].join(" ")},u.createElement("div",{className:`streamsContainer ${d||O?"shrink":"expand"} len${v.length+(y?1:0)} ${v.length+(y?1:0)>0&&S?"show":""}`},y&&u.createElement("div",{className:"stream"},u.createElement("div",{className:"username"},"You"),u.createElement("div",{className:"vidContainer"},u.createElement("video",{ref:e=>{if(e)return e.srcObject=y},muted:!0,autoPlay:!0,playsInline:!0}))),v.map((({stream:e,username:t})=>u.createElement("div",{className:"stream",key:e.id},u.createElement("div",{className:"username"},t),u.createElement("div",{className:"vidContainer"},u.createElement("video",{ref:t=>{if(t)return t.srcObject=e},autoPlay:!0,playsInline:!0})))))),u.createElement("div",{className:["whiteboard","send",d?"show":""].join(" ")},u.createElement(be,{isSharing:d})),u.createElement("div",{className:["whiteboard","recieve",O?"show":""].join(" ")},u.createElement("div",{className:"title"},P),u.createElement("div",{className:"imageContainer"},u.createElement("img",{alt:"",draggable:"false",ref:U}))),u.createElement("div",{className:["fastplayContainer",I?"show":""].join(" ")},u.createElement("div",{className:"title"}," Whiteboard Replay from: ",u.createElement("span",null,T)," "),u.createElement(b,{className:"closeIconContainer",onClick:()=>{A(!1)}},u.createElement(k,{fontSize:"large"})),u.createElement("div",{className:"imageContainer"},u.createElement("img",{alt:"whiteboard",draggable:"false",ref:L}))))),u.createElement(he,{showChat:Y,setShowChat:q}),u.createElement(Ne,{roomName:F,isAdmin:G.isAdmin,micIsSharing:h,desktopIsSharing:g,exportUsersActivity:()=>{V.emit("export-activities")},exportChatMessages:()=>{V.emit("export-chat")},toggleChats:()=>{q((e=>!e))},clearChat:()=>{V.emit("clear-chat")},toggleStreams:()=>{D((e=>!e))},leaveRoomClick:()=>{window.location.reload()},fastplayClick:()=>{H.current?se():V.emit("full-whiteboard-data")},shareDesktopOnClick:()=>{if(y){0!==y.getVideoTracks().length?(Re(y,"video",!g),f(!g)):re()}else re()},shareMicrophoneOnClick:()=>{if(y){0!==y.getAudioTracks().length?(console.log("has audio track so toggle audio"),Re(y,"audio",!h),E(!h)):ne()}else console.log("self stream was empty"),ne()},shareWhiteboardClick:()=>{d?(p(!1),V.emit("disconnect-whiteboard")):p(!0)}}))}function Ae(){const[e,t]=m.exports.useState(!0),a=ne({props:{MuiButtonBase:{disableRipple:!0}},palette:{type:e?"dark":"light",primary:{main:e?"#757575":"#01579B"},secondary:{light:"#0066ff",main:"#0044ff",contrastText:"#ffcc00"}},shape:{borderRadius:0},overrides:{MuiPaper:{elevation1:{background:e?"#262829":null,"box-shadow":"0 0px 15px 0 rgba(0,0,0,.08)"}}}});return u.createElement(re,{theme:a},u.createElement(se,{maxSnack:3},u.createElement(le,null,u.createElement(oe,null,u.createElement(ce,{exact:!0,path:"/",render:()=>u.createElement(Ie,{setDarkTheme:t,darkTheme:e})})))))}ie.render(u.createElement(u.StrictMode,null,u.createElement(Ae,null)),document.getElementById("root"));
